#!/usr/bin/env node
"use strict";(()=>{var lr=Object.create;var ue=Object.defineProperty;var ur=Object.getOwnPropertyDescriptor;var pr=Object.getOwnPropertyNames;var dr=Object.getPrototypeOf,fr=Object.prototype.hasOwnProperty;var O=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var C=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var mr=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of pr(r))!fr.call(e,n)&&n!==t&&ue(e,n,{get:()=>r[n],enumerable:!(o=ur(r,n))||o.enumerable});return e};var R=(e,r,t)=>(t=e!=null?lr(dr(e)):{},mr(r||!e||!e.__esModule?ue(t,"default",{value:e,enumerable:!0}):t,e));var G=C((Ln,ge)=>{"use strict";var hr=Object.create,B=Object.defineProperty,gr=Object.getOwnPropertyDescriptor,_r=Object.getOwnPropertyNames,vr=Object.getPrototypeOf,yr=Object.prototype.hasOwnProperty,br=(e,r)=>{for(var t in r)B(e,t,{get:r[t],enumerable:!0})},pe=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of _r(r))!yr.call(e,n)&&n!==t&&B(e,n,{get:()=>r[n],enumerable:!(o=gr(r,n))||o.enumerable});return e},de=(e,r,t)=>(t=e!=null?hr(vr(e)):{},pe(r||!e||!e.__esModule?B(t,"default",{value:e,enumerable:!0}):t,e)),Er=e=>pe(B({},"__esModule",{value:!0}),e),fe={};br(fe,{LineStream:()=>T,byline:()=>Or,createLineStream:()=>he,createStream:()=>me});ge.exports=Er(fe);var U=de(O("stream")),wr=de(O("util"));function Or(e,r){return me(e,r)}function me(e,r){return e?he(e,r):new T(r)}function he(e,r){if(!e)throw new Error("expected readStream");if(!e.readable)throw new Error("readStream must be readable");let t=new T(r);return e.pipe(t),t}function T(e){U.default.Transform.call(this,e),e=e||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=e.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1,this.on("pipe",function(r){this.encoding||r instanceof U.default.Readable&&(this.encoding=r._readableState.encoding)})}wr.default.inherits(T,U.default.Transform);T.prototype._transform=function(e,r,t){r=r||"utf8",Buffer.isBuffer(e)&&(r=="buffer"?(e=e.toString(),r="utf8"):e=e.toString(r)),this._chunkEncoding=r;let o=e.split(/\r\n|\r|\n/g);this._lastChunkEndedWithCR&&e[0]==`
`&&o.shift(),this._lineBuffer.length>0&&(this._lineBuffer[this._lineBuffer.length-1]+=o[0],o.shift()),this._lastChunkEndedWithCR=e[e.length-1]=="\r",this._lineBuffer=this._lineBuffer.concat(o),this._pushBuffer(r,1,t)};T.prototype._pushBuffer=function(e,r,t){for(;this._lineBuffer.length>r;){let o=this._lineBuffer.shift();if((this._keepEmptyLines||o.length>0)&&!this.push(this._reencode(o,e))){let n=this;setImmediate(function(){n._pushBuffer(e,r,t)});return}}t()};T.prototype._flush=function(e){this._pushBuffer(this._chunkEncoding,0,e)};T.prototype._reencode=function(e,r){return this.encoding&&this.encoding!=r?Buffer.from(e,r).toString(this.encoding):this.encoding?e:Buffer.from(e,r)}});var H=C((In,ve)=>{"use strict";var W=Object.defineProperty,xr=Object.getOwnPropertyDescriptor,Sr=Object.getOwnPropertyNames,Pr=Object.prototype.hasOwnProperty,Dr=(e,r)=>{for(var t in r)W(e,t,{get:r[t],enumerable:!0})},Nr=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of Sr(r))!Pr.call(e,n)&&n!==t&&W(e,n,{get:()=>r[n],enumerable:!(o=xr(r,n))||o.enumerable});return e},jr=e=>Nr(W({},"__esModule",{value:!0}),e),_e={};Dr(_e,{isErrorResponse:()=>$r});ve.exports=jr(_e);function $r(e){return e.error!==void 0}});var X=C((An,we)=>{"use strict";var z=Object.defineProperty,Cr=Object.getOwnPropertyDescriptor,Mr=Object.getOwnPropertyNames,Tr=Object.prototype.hasOwnProperty,kr=(e,r)=>{for(var t in r)z(e,t,{get:r[t],enumerable:!0})},Rr=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of Mr(r))!Tr.call(e,n)&&n!==t&&z(e,n,{get:()=>r[n],enumerable:!(o=Cr(r,n))||o.enumerable});return e},Lr=e=>Rr(z({},"__esModule",{value:!0}),e),ye={};kr(ye,{__commonJS:()=>Gr,__require:()=>Br,__toESM:()=>Jr});we.exports=Lr(ye);var Ir=Object.create,be=Object.defineProperty,Ar=Object.getOwnPropertyDescriptor,Ee=Object.getOwnPropertyNames,qr=Object.getPrototypeOf,Fr=Object.prototype.hasOwnProperty,Br=(e=>typeof O<"u"?O:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof O<"u"?O:r)[t]}):e)(function(e){if(typeof O<"u")return O.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),Gr=(e,r)=>function(){return r||(0,e[Ee(e)[0]])((r={exports:{}}).exports,r),r.exports},Vr=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of Ee(r))!Fr.call(e,n)&&n!==t&&be(e,n,{get:()=>r[n],enumerable:!(o=Ar(r,n))||o.enumerable});return e},Jr=(e,r,t)=>(t=e!=null?Ir(qr(e)):{},Vr(r||!e||!e.__esModule?be(t,"default",{value:e,enumerable:!0}):t,e))});var Re=C((Fn,ke)=>{"use strict";var re=Object.defineProperty,Yr=Object.getOwnPropertyDescriptor,Kr=Object.getOwnPropertyNames,Ur=Object.prototype.hasOwnProperty,Se=(e,r)=>{for(var t in r)re(e,t,{get:r[t],enumerable:!0})},Wr=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of Kr(r))!Ur.call(e,n)&&n!==t&&re(e,n,{get:()=>r[n],enumerable:!(o=Yr(r,n))||o.enumerable});return e},Hr=e=>Wr(re({},"__esModule",{value:!0}),e),Pe={};Se(Pe,{Debug:()=>Te,clearLogs:()=>Pt,default:()=>Dt,getLogs:()=>St});ke.exports=Hr(Pe);var Q={};Se(Q,{$:()=>Ce,bgBlack:()=>ft,bgBlue:()=>_t,bgCyan:()=>yt,bgGreen:()=>ht,bgMagenta:()=>vt,bgRed:()=>mt,bgWhite:()=>bt,bgYellow:()=>gt,black:()=>nt,blue:()=>at,bold:()=>Me,cyan:()=>lt,dim:()=>Xr,gray:()=>pt,green:()=>st,grey:()=>dt,hidden:()=>rt,inverse:()=>et,italic:()=>Qr,magenta:()=>ct,red:()=>ot,reset:()=>zr,strikethrough:()=>tt,underline:()=>Zr,white:()=>ut,yellow:()=>it});var Z,De,Ne,je,$e=!0;typeof process<"u"&&({FORCE_COLOR:Z,NODE_DISABLE_COLORS:De,NO_COLOR:Ne,TERM:je}=process.env||{},$e=process.stdout&&process.stdout.isTTY);var Ce={enabled:!De&&Ne==null&&je!=="dumb"&&(Z!=null&&Z!=="0"||$e)};function v(e,r){let t=new RegExp(`\\x1b\\[${r}m`,"g"),o=`\x1B[${e}m`,n=`\x1B[${r}m`;return function(i){return!Ce.enabled||i==null?i:o+(~(""+i).indexOf(n)?i.replace(t,n+o):i)+n}}var zr=v(0,0),Me=v(1,22),Xr=v(2,22),Qr=v(3,23),Zr=v(4,24),et=v(7,27),rt=v(8,28),tt=v(9,29),nt=v(30,39),ot=v(31,39),st=v(32,39),it=v(33,39),at=v(34,39),ct=v(35,39),lt=v(36,39),ut=v(37,39),pt=v(90,39),dt=v(90,39),ft=v(40,49),mt=v(41,49),ht=v(42,49),gt=v(43,49),_t=v(44,49),vt=v(45,49),yt=v(46,49),bt=v(47,49),Et=100,Oe=["green","yellow","blue","magenta","cyan","red"],L=[],xe=Date.now(),wt=0,ee=typeof process<"u"?process.env:{};globalThis.DEBUG??=ee.DEBUG??"";globalThis.DEBUG_COLORS??=ee.DEBUG_COLORS?ee.DEBUG_COLORS==="true":!0;var I={enable(e){typeof e=="string"&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let r=globalThis.DEBUG.split(",").map(n=>n.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),t=r.some(n=>n===""||n[0]==="-"?!1:e.match(RegExp(n.split("*").join(".*")+"$"))),o=r.some(n=>n===""||n[0]!=="-"?!1:e.match(RegExp(n.slice(1).split("*").join(".*")+"$")));return t&&!o},log:(...e)=>{let[r,t,...o]=e;(console.warn??console.log)(`${r} ${t}`,...o)},formatters:{}};function Ot(e){let r={color:Oe[wt++%Oe.length],enabled:I.enabled(e),namespace:e,log:I.log,extend:()=>{}},t=(...o)=>{let{enabled:n,namespace:i,color:l,log:s}=r;if(o.length!==0&&L.push([i,...o]),L.length>Et&&L.shift(),I.enabled(i)||n){let c=o.map(a=>typeof a=="string"?a:xt(a)),p=`+${Date.now()-xe}ms`;xe=Date.now(),globalThis.DEBUG_COLORS?s(Q[l](Me(i)),...c,Q[l](p)):s(i,...c,p)}};return new Proxy(t,{get:(o,n)=>r[n],set:(o,n,i)=>r[n]=i})}var Te=new Proxy(Ot,{get:(e,r)=>I[r],set:(e,r,t)=>I[r]=t});function xt(e,r=2){let t=new Set;return JSON.stringify(e,(o,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return"[Circular *]";t.add(n)}else if(typeof n=="bigint")return n.toString();return n},r)}function St(e=7500){let r=L.map(([t,...o])=>`${t} ${o.map(n=>typeof n=="string"?n:JSON.stringify(n)).join(" ")}`).join(`
`);return r.length<e?r:r.slice(-e)}function Pt(){L.length=0}var Dt=Te});var Ge=C((fo,Be)=>{"use strict";var oe=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,jt=Object.getOwnPropertyNames,$t=Object.prototype.hasOwnProperty,Ct=(e,r)=>{for(var t in r)oe(e,t,{get:r[t],enumerable:!0})},Mt=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of jt(r))!$t.call(e,n)&&n!==t&&oe(e,n,{get:()=>r[n],enumerable:!(o=Nt(r,n))||o.enumerable});return e},Tt=e=>Mt(oe({},"__esModule",{value:!0}),e),Le={};Ct(Le,{GeneratorError:()=>A,GeneratorProcess:()=>rn});Be.exports=Tt(Le);var kt=G(),Rt=H(),E=X(),Lt=O("child_process"),It=Re(),At=(0,E.__commonJS)({"../../node_modules/.pnpm/isexe@2.0.0/node_modules/isexe/windows.js"(e,r){"use strict";r.exports=i,i.sync=l;var t=(0,E.__require)("fs");function o(s,c){var p=c.pathExt!==void 0?c.pathExt:process.env.PATHEXT;if(!p||(p=p.split(";"),p.indexOf("")!==-1))return!0;for(var a=0;a<p.length;a++){var d=p[a].toLowerCase();if(d&&s.substr(-d.length).toLowerCase()===d)return!0}return!1}function n(s,c,p){return!s.isSymbolicLink()&&!s.isFile()?!1:o(c,p)}function i(s,c,p){t.stat(s,function(a,d){p(a,a?!1:n(d,s,c))})}function l(s,c){return n(t.statSync(s),s,c)}}}),qt=(0,E.__commonJS)({"../../node_modules/.pnpm/isexe@2.0.0/node_modules/isexe/mode.js"(e,r){"use strict";r.exports=o,o.sync=n;var t=(0,E.__require)("fs");function o(s,c,p){t.stat(s,function(a,d){p(a,a?!1:i(d,c))})}function n(s,c){return i(t.statSync(s),c)}function i(s,c){return s.isFile()&&l(s,c)}function l(s,c){var p=s.mode,a=s.uid,d=s.gid,u=c.uid!==void 0?c.uid:process.getuid&&process.getuid(),m=c.gid!==void 0?c.gid:process.getgid&&process.getgid(),f=parseInt("100",8),b=parseInt("010",8),N=parseInt("001",8),P=f|b,w=p&N||p&b&&d===m||p&f&&a===u||p&P&&u===0;return w}}}),Ft=(0,E.__commonJS)({"../../node_modules/.pnpm/isexe@2.0.0/node_modules/isexe/index.js"(e,r){"use strict";var t=(0,E.__require)("fs"),o;process.platform==="win32"||global.TESTING_WINDOWS?o=At():o=qt(),r.exports=n,n.sync=i;function n(l,s,c){if(typeof s=="function"&&(c=s,s={}),!c){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(p,a){n(l,s||{},function(d,u){d?a(d):p(u)})})}o(l,s||{},function(p,a){p&&(p.code==="EACCES"||s&&s.ignoreErrors)&&(p=null,a=!1),c(p,a)})}function i(l,s){try{return o.sync(l,s||{})}catch(c){if(s&&s.ignoreErrors||c.code==="EACCES")return!1;throw c}}}}),Bt=(0,E.__commonJS)({"../../node_modules/.pnpm/which@2.0.2/node_modules/which/which.js"(e,r){"use strict";var t=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",o=(0,E.__require)("path"),n=t?";":":",i=Ft(),l=a=>Object.assign(new Error(`not found: ${a}`),{code:"ENOENT"}),s=(a,d)=>{let u=d.colon||n,m=a.match(/\//)||t&&a.match(/\\/)?[""]:[...t?[process.cwd()]:[],...(d.path||process.env.PATH||"").split(u)],f=t?d.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",b=t?f.split(u):[""];return t&&a.indexOf(".")!==-1&&b[0]!==""&&b.unshift(""),{pathEnv:m,pathExt:b,pathExtExe:f}},c=(a,d,u)=>{typeof d=="function"&&(u=d,d={}),d||(d={});let{pathEnv:m,pathExt:f,pathExtExe:b}=s(a,d),N=[],P=g=>new Promise((h,_)=>{if(g===m.length)return d.all&&N.length?h(N):_(l(a));let x=m[g],j=/^".*"$/.test(x)?x.slice(1,-1):x,k=o.join(j,a),K=!j&&/^\.[\\\/]/.test(a)?a.slice(0,2)+k:k;h(w(K,g,0))}),w=(g,h,_)=>new Promise((x,j)=>{if(_===f.length)return x(P(h+1));let k=f[_];i(g+k,{pathExt:b},(K,cr)=>{if(!K&&cr)if(d.all)N.push(g+k);else return x(g+k);return x(w(g,h,_+1))})});return u?P(0).then(g=>u(null,g),u):P(0)},p=(a,d)=>{d=d||{};let{pathEnv:u,pathExt:m,pathExtExe:f}=s(a,d),b=[];for(let N=0;N<u.length;N++){let P=u[N],w=/^".*"$/.test(P)?P.slice(1,-1):P,g=o.join(w,a),h=!w&&/^\.[\\\/]/.test(a)?a.slice(0,2)+g:g;for(let _=0;_<m.length;_++){let x=h+m[_];try{if(i.sync(x,{pathExt:f}))if(d.all)b.push(x);else return x}catch{}}}if(d.all&&b.length)return b;if(d.nothrow)return null;throw l(a)};r.exports=c,c.sync=p}}),Gt=(0,E.__commonJS)({"../../node_modules/.pnpm/path-key@3.1.1/node_modules/path-key/index.js"(e,r){"use strict";var t=(o={})=>{let n=o.env||process.env;return(o.platform||process.platform)!=="win32"?"PATH":Object.keys(n).reverse().find(l=>l.toUpperCase()==="PATH")||"Path"};r.exports=t,r.exports.default=t}}),Vt=(0,E.__commonJS)({"../../node_modules/.pnpm/cross-spawn@7.0.6/node_modules/cross-spawn/lib/util/resolveCommand.js"(e,r){"use strict";var t=(0,E.__require)("path"),o=Bt(),n=Gt();function i(s,c){let p=s.options.env||process.env,a=process.cwd(),d=s.options.cwd!=null,u=d&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(s.options.cwd)}catch{}let m;try{m=o.sync(s.command,{path:p[n({env:p})],pathExt:c?t.delimiter:void 0})}catch{}finally{u&&process.chdir(a)}return m&&(m=t.resolve(d?s.options.cwd:"",m)),m}function l(s){return i(s)||i(s,!0)}r.exports=l}}),Jt=(0,E.__commonJS)({"../../node_modules/.pnpm/cross-spawn@7.0.6/node_modules/cross-spawn/lib/util/escape.js"(e,r){"use strict";var t=/([()\][%!^"`<>&|;, *?])/g;function o(i){return i=i.replace(t,"^$1"),i}function n(i,l){return i=`${i}`,i=i.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),i=i.replace(/(?=(\\+?)?)\1$/,"$1$1"),i=`"${i}"`,i=i.replace(t,"^$1"),l&&(i=i.replace(t,"^$1")),i}r.exports.command=o,r.exports.argument=n}}),Yt=(0,E.__commonJS)({"../../node_modules/.pnpm/shebang-regex@3.0.0/node_modules/shebang-regex/index.js"(e,r){"use strict";r.exports=/^#!(.*)/}}),Kt=(0,E.__commonJS)({"../../node_modules/.pnpm/shebang-command@2.0.0/node_modules/shebang-command/index.js"(e,r){"use strict";var t=Yt();r.exports=(o="")=>{let n=o.match(t);if(!n)return null;let[i,l]=n[0].replace(/#! ?/,"").split(" "),s=i.split("/").pop();return s==="env"?l:l?`${s} ${l}`:s}}}),Ut=(0,E.__commonJS)({"../../node_modules/.pnpm/cross-spawn@7.0.6/node_modules/cross-spawn/lib/util/readShebang.js"(e,r){"use strict";var t=(0,E.__require)("fs"),o=Kt();function n(i){let s=Buffer.alloc(150),c;try{c=t.openSync(i,"r"),t.readSync(c,s,0,150,0),t.closeSync(c)}catch{}return o(s.toString())}r.exports=n}}),Wt=(0,E.__commonJS)({"../../node_modules/.pnpm/cross-spawn@7.0.6/node_modules/cross-spawn/lib/parse.js"(e,r){"use strict";var t=(0,E.__require)("path"),o=Vt(),n=Jt(),i=Ut(),l=process.platform==="win32",s=/\.(?:com|exe)$/i,c=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function p(u){u.file=o(u);let m=u.file&&i(u.file);return m?(u.args.unshift(u.file),u.command=m,o(u)):u.file}function a(u){if(!l)return u;let m=p(u),f=!s.test(m);if(u.options.forceShell||f){let b=c.test(m);u.command=t.normalize(u.command),u.command=n.command(u.command),u.args=u.args.map(P=>n.argument(P,b));let N=[u.command].concat(u.args).join(" ");u.args=["/d","/s","/c",`"${N}"`],u.command=process.env.comspec||"cmd.exe",u.options.windowsVerbatimArguments=!0}return u}function d(u,m,f){m&&!Array.isArray(m)&&(f=m,m=null),m=m?m.slice(0):[],f=Object.assign({},f);let b={command:u,args:m,options:f,file:void 0,original:{command:u,args:m}};return f.shell?b:a(b)}r.exports=d}}),Ht=(0,E.__commonJS)({"../../node_modules/.pnpm/cross-spawn@7.0.6/node_modules/cross-spawn/lib/enoent.js"(e,r){"use strict";var t=process.platform==="win32";function o(s,c){return Object.assign(new Error(`${c} ${s.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${c} ${s.command}`,path:s.command,spawnargs:s.args})}function n(s,c){if(!t)return;let p=s.emit;s.emit=function(a,d){if(a==="exit"){let u=i(d,c);if(u)return p.call(s,"error",u)}return p.apply(s,arguments)}}function i(s,c){return t&&s===1&&!c.file?o(c.original,"spawn"):null}function l(s,c){return t&&s===1&&!c.file?o(c.original,"spawnSync"):null}r.exports={hookChildProcess:n,verifyENOENT:i,verifyENOENTSync:l,notFoundError:o}}}),zt=(0,E.__commonJS)({"../../node_modules/.pnpm/cross-spawn@7.0.6/node_modules/cross-spawn/index.js"(e,r){"use strict";var t=(0,E.__require)("child_process"),o=Wt(),n=Ht();function i(s,c,p){let a=o(s,c,p),d=t.spawn(a.command,a.args,a.options);return n.hookChildProcess(d,a),d}function l(s,c,p){let a=o(s,c,p),d=t.spawnSync(a.command,a.args,a.options);return d.error=d.error||n.verifyENOENTSync(d.status,a),d}r.exports=i,r.exports.spawn=i,r.exports.sync=l,r.exports._parse=o,r.exports._enoent=n}}),Xt=(0,E.__toESM)(zt()),ne,Ie,Ae,qe,Fe=!0;typeof process<"u"&&({FORCE_COLOR:ne,NODE_DISABLE_COLORS:Ie,NO_COLOR:Ae,TERM:qe}=process.env||{},Fe=process.stdout&&process.stdout.isTTY);var Qt={enabled:!Ie&&Ae==null&&qe!=="dumb"&&(ne!=null&&ne!=="0"||Fe)};function y(e,r){let t=new RegExp(`\\x1b\\[${r}m`,"g"),o=`\x1B[${e}m`,n=`\x1B[${r}m`;return function(i){return!Qt.enabled||i==null?i:o+(~(""+i).indexOf(n)?i.replace(t,n+o):i)+n}}var Bn=y(0,0),Zt=y(1,22),Gn=y(2,22),Vn=y(3,23),Jn=y(4,24),Yn=y(7,27),Kn=y(8,28),Un=y(9,29),Wn=y(30,39),Hn=y(31,39),zn=y(32,39),Xn=y(33,39),Qn=y(34,39),Zn=y(35,39),eo=y(36,39),ro=y(37,39),to=y(90,39),no=y(90,39),oo=y(40,49),so=y(41,49),io=y(42,49),ao=y(43,49),co=y(44,49),lo=y(45,49),uo=y(46,49),po=y(47,49),te=(0,It.Debug)("prisma:GeneratorProcess"),en=1,A=class extends Error{constructor(e,r,t){super(e),this.code=r,this.data=t,t?.stack&&(this.stack=t.stack)}name="GeneratorError"},rn=class{constructor(e,{isNode:r=!1}={}){this.pathOrCommand=e,this.isNode=r}child;handlers={};initPromise;isNode;errorLogs="";pendingError;exited=!1;async init(){return this.initPromise||(this.initPromise=this.initSingleton()),this.initPromise}initSingleton(){return new Promise((e,r)=>{this.isNode?this.child=(0,Lt.fork)(this.pathOrCommand,[],{stdio:["pipe","inherit","pipe","ipc"],env:{...process.env,PRISMA_GENERATOR_INVOCATION:"true"},execArgv:["--max-old-space-size=8096"]}):this.child=(0,Xt.spawn)(this.pathOrCommand,{stdio:["pipe","inherit","pipe"],env:{...process.env,PRISMA_GENERATOR_INVOCATION:"true"},shell:!0}),this.child.on("exit",(t,o)=>{if(te(`child exited with code ${t} on signal ${o}`),this.exited=!0,t){let n=new A(`Generator ${JSON.stringify(this.pathOrCommand)} failed:

${this.errorLogs}`);this.pendingError=n,this.rejectAllHandlers(n)}}),this.child.stdin.on("error",()=>{}),this.child.on("error",t=>{te(t),this.pendingError=t,t.code==="EACCES"?r(new Error(`The executable at ${this.pathOrCommand} lacks the right permissions. Please use ${Zt(`chmod +x ${this.pathOrCommand}`)}`)):r(t),this.rejectAllHandlers(t)}),(0,kt.byline)(this.child.stderr).on("data",t=>{let o=String(t),n;try{n=JSON.parse(o)}catch{this.errorLogs+=o+`
`,te(o)}n&&this.handleResponse(n)}),this.child.on("spawn",e)})}rejectAllHandlers(e){for(let r of Object.keys(this.handlers))this.handlers[r].reject(e),delete this.handlers[r]}handleResponse(e){if(e.jsonrpc&&e.id){if(typeof e.id!="number")throw new Error(`message.id has to be a number. Found value ${e.id}`);if(this.handlers[e.id]){if((0,Rt.isErrorResponse)(e)){let r=new A(e.error.message,e.error.code,e.error.data);this.handlers[e.id].reject(r)}else this.handlers[e.id].resolve(e.result);delete this.handlers[e.id]}}}sendMessage(e,r){if(!this.child){r(new A("Generator process has not started yet"));return}if(!this.child.stdin.writable){r(new A("Cannot send data to the generator process, process already exited"));return}this.child.stdin.write(JSON.stringify(e)+`
`,t=>{if(!t||t.code==="EPIPE")return r();r(t)})}getMessageId(){return en++}stop(){if(this.child&&!this.child?.killed){this.child.kill("SIGTERM");let e=2e3,r=200,t,o;Promise.race([new Promise(n=>{o=setTimeout(n,e)}),new Promise(n=>{t=setInterval(()=>{if(this.exited)return n("exited")},r)})]).then(n=>{n!=="exited"&&this.child?.kill("SIGKILL")}).finally(()=>{clearInterval(t),clearTimeout(o)})}}rpcMethod(e,r=t=>t){return t=>new Promise((o,n)=>{if(this.pendingError){n(this.pendingError);return}let i=this.getMessageId();this.handlers[i]={resolve:l=>o(r(l)),reject:n},this.sendMessage({jsonrpc:"2.0",method:e,params:t,id:i},l=>{l&&n(l)})})}getManifest=this.rpcMethod("getManifest",e=>e.manifest??null);generate=this.rpcMethod("generate")}});var Ye=C((go,Je)=>{"use strict";var se=Object.defineProperty,tn=Object.getOwnPropertyDescriptor,nn=Object.getOwnPropertyNames,on=Object.prototype.hasOwnProperty,sn=(e,r)=>{for(var t in r)se(e,t,{get:r[t],enumerable:!0})},an=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of nn(r))!on.call(e,n)&&n!==t&&se(e,n,{get:()=>r[n],enumerable:!(o=tn(r,n))||o.enumerable});return e},cn=e=>an(se({},"__esModule",{value:!0}),e),Ve={};sn(Ve,{generatorHandler:()=>un});Je.exports=cn(Ve);var ln=G();function un(e){(0,ln.byline)(process.stdin).on("data",async r=>{let t=JSON.parse(String(r));if(t.method==="generate"&&t.params)try{let o=await e.onGenerate(t.params);q({jsonrpc:"2.0",result:o,id:t.id})}catch(o){let n=o;q({jsonrpc:"2.0",error:{code:-32e3,message:n.message,data:{stack:n.stack}},id:t.id})}if(t.method==="getManifest")if(e.onManifest)try{let o=await e.onManifest(t.params);q({jsonrpc:"2.0",result:{manifest:o},id:t.id})}catch(o){let n=o;q({jsonrpc:"2.0",error:{code:-32e3,message:n.message,data:{stack:n.stack}},id:t.id})}else q({jsonrpc:"2.0",result:{manifest:null},id:t.id})}),process.stdin.resume()}function q(e){process.stderr.write(JSON.stringify(e)+`
`)}});var He=C((bo,We)=>{"use strict";var ie=Object.defineProperty,pn=Object.getOwnPropertyDescriptor,dn=Object.getOwnPropertyNames,fn=Object.prototype.hasOwnProperty,mn=(e,r)=>{for(var t in r)ie(e,t,{get:r[t],enumerable:!0})},hn=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of dn(r))!fn.call(e,n)&&n!==t&&ie(e,n,{get:()=>r[n],enumerable:!(o=pn(r,n))||o.enumerable});return e},gn=e=>hn(ie({},"__esModule",{value:!0}),e),Ue={};mn(Ue,{GeneratorError:()=>Ke.GeneratorError,GeneratorProcess:()=>Ke.GeneratorProcess,generatorHandler:()=>_n.generatorHandler});We.exports=gn(Ue);var Ke=Ge(),_n=Ye(),_o=G(),vo=H(),yo=X()});var ze=C((Eo,vn)=>{vn.exports={name:"dotenv",version:"16.6.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var rr=C((wo,M)=>{"use strict";var ae=O("fs"),V=O("path"),yn=O("os"),bn=O("crypto"),En=ze(),ce=En.version,wn=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function On(e){let r={},t=e.toString();t=t.replace(/\r\n?/mg,`
`);let o;for(;(o=wn.exec(t))!=null;){let n=o[1],i=o[2]||"";i=i.trim();let l=i[0];i=i.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),l==='"'&&(i=i.replace(/\\n/g,`
`),i=i.replace(/\\r/g,"\r")),r[n]=i}return r}function xn(e){e=e||{};let r=er(e);e.path=r;let t=S.configDotenv(e);if(!t.parsed){let l=new Error(`MISSING_DATA: Cannot parse ${r} for an unknown reason`);throw l.code="MISSING_DATA",l}let o=Ze(e).split(","),n=o.length,i;for(let l=0;l<n;l++)try{let s=o[l].trim(),c=Pn(t,s);i=S.decrypt(c.ciphertext,c.key);break}catch(s){if(l+1>=n)throw s}return S.parse(i)}function Sn(e){console.log(`[dotenv@${ce}][WARN] ${e}`)}function F(e){console.log(`[dotenv@${ce}][DEBUG] ${e}`)}function Qe(e){console.log(`[dotenv@${ce}] ${e}`)}function Ze(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function Pn(e,r){let t;try{t=new URL(r)}catch(s){if(s.code==="ERR_INVALID_URL"){let c=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw c.code="INVALID_DOTENV_KEY",c}throw s}let o=t.password;if(!o){let s=new Error("INVALID_DOTENV_KEY: Missing key part");throw s.code="INVALID_DOTENV_KEY",s}let n=t.searchParams.get("environment");if(!n){let s=new Error("INVALID_DOTENV_KEY: Missing environment part");throw s.code="INVALID_DOTENV_KEY",s}let i=`DOTENV_VAULT_${n.toUpperCase()}`,l=e.parsed[i];if(!l){let s=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${i} in your .env.vault file.`);throw s.code="NOT_FOUND_DOTENV_ENVIRONMENT",s}return{ciphertext:l,key:o}}function er(e){let r=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let t of e.path)ae.existsSync(t)&&(r=t.endsWith(".vault")?t:`${t}.vault`);else r=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else r=V.resolve(process.cwd(),".env.vault");return ae.existsSync(r)?r:null}function Xe(e){return e[0]==="~"?V.join(yn.homedir(),e.slice(1)):e}function Dn(e){let r=!!(e&&e.debug),t=e&&"quiet"in e?e.quiet:!0;(r||!t)&&Qe("Loading env from encrypted .env.vault");let o=S._parseVault(e),n=process.env;return e&&e.processEnv!=null&&(n=e.processEnv),S.populate(n,o,e),{parsed:o}}function Nn(e){let r=V.resolve(process.cwd(),".env"),t="utf8",o=!!(e&&e.debug),n=e&&"quiet"in e?e.quiet:!0;e&&e.encoding?t=e.encoding:o&&F("No encoding is specified. UTF-8 is used by default");let i=[r];if(e&&e.path)if(!Array.isArray(e.path))i=[Xe(e.path)];else{i=[];for(let p of e.path)i.push(Xe(p))}let l,s={};for(let p of i)try{let a=S.parse(ae.readFileSync(p,{encoding:t}));S.populate(s,a,e)}catch(a){o&&F(`Failed to load ${p} ${a.message}`),l=a}let c=process.env;if(e&&e.processEnv!=null&&(c=e.processEnv),S.populate(c,s,e),o||!n){let p=Object.keys(s).length,a=[];for(let d of i)try{let u=V.relative(process.cwd(),d);a.push(u)}catch(u){o&&F(`Failed to load ${d} ${u.message}`),l=u}Qe(`injecting env (${p}) from ${a.join(",")}`)}return l?{parsed:s,error:l}:{parsed:s}}function jn(e){if(Ze(e).length===0)return S.configDotenv(e);let r=er(e);return r?S._configVault(e):(Sn(`You set DOTENV_KEY but you are missing a .env.vault file at ${r}. Did you forget to build it?`),S.configDotenv(e))}function $n(e,r){let t=Buffer.from(r.slice(-64),"hex"),o=Buffer.from(e,"base64"),n=o.subarray(0,12),i=o.subarray(-16);o=o.subarray(12,-16);try{let l=bn.createDecipheriv("aes-256-gcm",t,n);return l.setAuthTag(i),`${l.update(o)}${l.final()}`}catch(l){let s=l instanceof RangeError,c=l.message==="Invalid key length",p=l.message==="Unsupported state or unable to authenticate data";if(s||c){let a=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw a.code="INVALID_DOTENV_KEY",a}else if(p){let a=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw a.code="DECRYPTION_FAILED",a}else throw l}}function Cn(e,r,t={}){let o=!!(t&&t.debug),n=!!(t&&t.override);if(typeof r!="object"){let i=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw i.code="OBJECT_REQUIRED",i}for(let i of Object.keys(r))Object.prototype.hasOwnProperty.call(e,i)?(n===!0&&(e[i]=r[i]),o&&F(n===!0?`"${i}" is already defined and WAS overwritten`:`"${i}" is already defined and was NOT overwritten`)):e[i]=r[i]}var S={configDotenv:Nn,_configVault:Dn,_parseVault:xn,config:jn,decrypt:$n,parse:On,populate:Cn};M.exports.configDotenv=S.configDotenv;M.exports._configVault=S._configVault;M.exports._parseVault=S._parseVault;M.exports.config=S.config;M.exports.decrypt=S.decrypt;M.exports.parse=S.parse;M.exports.populate=S.populate;M.exports=S});var ir=R(He());var D=R(O("path")),J=R(O("child_process")),$=R(O("fs")),Y=R(O("os")),tr=O("url"),nr=R(rr());nr.config();function Mn(e,r){let{tableOnly:t=!1,ignoreEnums:o=!1,includeRelationFromFields:n=!1,disableEmoji:i=!1}=r??{},l="erDiagram",s=e.models.concat(e.types),c=t||o?"":e.enums.map(m=>`
        ${m.dbName||m.name} {
            ${m.values.map(f=>`${f.name||f.dbName} ${f.dbName||f.name}`).join(`
`)}
        }
    `).join(`

`),p=i?'"PK"':'"\u{1F5DD}\uFE0F"',a=i?'"nullable"':'"\u2753"',d=s.map(m=>`  "${m.dbName||m.name}" {
${t?"":m.fields.filter(Tn(m,n)).map(f=>`    ${f.type.trimStart()} ${f.name.replace(/^_/,"z_")} ${f.isId||m.primaryKey?.fields?.includes(f.name)?p:""}${f.isRequired?"":a}`).join(`
`)}
    }
  `).join(`

`),u="";for(let m of s)for(let f of m.fields){let b=f.kind==="enum";if(b&&(t||o))continue;let N=`${b?"enum:":""}${f.name}`,P=`"${m.dbName||m.name}"`,w=`"${s.find(g=>g.name===f.type)?.dbName||f.type}"`;if(f.relationFromFields&&f.relationFromFields.length>0||b){let g="||";f.isList?g="}o":f.isRequired||(g="|o");let h=s.find(j=>j.name===w),_=h?.fields.find(({relationName:j})=>j===f.relationName),x=g;_?.isList?g="o{":_?.isRequired||(g="o|"),u+=`    ${P} ${g}--${x} ${h?.dbName||w} : "${N}"
`}else if(s.find(g=>g.name===f.type||g.dbName===f.type)&&f.relationFromFields?.length===0){let g=s.find(h=>h.name===f.type||h.dbName===f.type);if(g){let h=s.indexOf(m),_=s.indexOf(g);h<_&&(u+=`    ${P} o{--}o ${w} : ""
`)}}else if(f.kind==="object"){let g=e.types.find(h=>h.name.replace(/^_/,"z_").replace(/\s/g,""));if(console.log(w,g),g){let h="||";f.isList?h="}o":f.isRequired||(h="|o");let _=g?.fields.find(({relationName:j})=>j===f.relationName),x=h;_?.isList?h="o{":_?.isRequired||(h="o|"),u+=`    ${P} ${h}--${x} ${g.dbName||w} : "${N}"
`}}}return`${l}
${c}
${d}
${u}`}var Tn=(e,r)=>t=>r?t.kind!=="object":t.kind!=="object"&&!e.fields.find(({relationFromFields:o})=>o?.includes(t.name)),kn=(e,r)=>{let t=r?.split(`
`).filter(o=>o.includes("@map")||o.includes("model ")).map(o=>o.trim());return e.map(o=>({...o,fields:o.fields.map(n=>{let i="None",l=t.filter(s=>(i==="Match"&&s.includes("model ")&&(i="End"),i==="None"&&s.includes(`model ${o.name} `)&&(i="Match"),i==="Match")).find(s=>s.includes(`${n.name} `)&&s.includes("@map"));if(l){let c=new RegExp(/@map\(\"(.*?)\"\)/,"g").exec(l);if(c?.[1]){let p=c[1].replace(/^_/,"z_").replace(/\s/g,"");n.name=p}}return n})}))},or=async e=>{try{let r=e.generator.output?.value||"./prisma/ERD.svg",t=e.generator.config,o=t.theme??"forest",n=D.resolve(D.join(t.mmdcPath||"node_modules/.bin","mmdc")),i=t.tableOnly==="true",l=t.disableEmoji==="true",s=t.ignoreEnums==="true",c=t.includeRelationFromFields==="true",p=process.env.DISABLE_ERD==="true"||t.disabled==="true",a=t.erdDebug==="true"||!!process.env.ERD_DEBUG;if(a&&(console.log("debug mode enabled"),console.log("config",t)),p)return console.log("ERD generator is disabled");let d=$.default.mkdtempSync(`${Y.default.tmpdir()+D.sep}prisma-erd-`);if(!e.dmmf?.datamodel)throw new Error("Datamodel is missing from generator options");let u=JSON.parse(JSON.stringify(e.dmmf.datamodel));if(a&&u){$.default.mkdirSync(D.resolve("prisma/debug"),{recursive:!0});let h=D.resolve("prisma/debug/1-datamodel.json");$.default.writeFileSync(h,JSON.stringify(u,null,2)),console.log(`data model written to ${h}`)}if(u.models=kn(u.models,e.datamodel),u.types||(u.types=[]),a&&u.models){let h=D.resolve("prisma/debug/2-datamodel-map-applied.json");$.default.writeFileSync(h,JSON.stringify(u,null,2)),console.log(`applied @map to fields written to ${h}`)}let m=Mn(u,{tableOnly:i,ignoreEnums:s,includeRelationFromFields:c,disableEmoji:l});if(a&&m){let h=D.resolve("prisma/debug/3-mermaid.mmd");$.default.writeFileSync(h,m),console.log(`mermaid written to ${h}`)}if(!m)throw new Error("failed to construct mermaid instance from dml");if(r.endsWith(".md"))return $.default.writeFileSync(r,`\`\`\`mermaid
${m}\`\`\`
`);let f=D.resolve(D.join(d,"prisma.mmd"));$.default.writeFileSync(f,m);let b={deterministicIds:!0,maxTextSize:9e4,er:{useMaxWidth:!0},theme:o},N=b;if(t?.mermaidConfig){let h=D.resolve(t.mermaidConfig),_=await import((0,tr.pathToFileURL)(h).href);a&&console.log("imported mermaid config: ",_),N={...b,..._}}let P=D.resolve(D.join(d,"config.json"));$.default.writeFileSync(P,JSON.stringify(N));let w=t.puppeteerConfig;if(w&&!$.default.existsSync(w))throw new Error(`Puppeteer config file "${w}" does not exist`);if(!w){let h=D.resolve(D.join(d,"puppeteerConfig.json")),_,x={logLevel:a?"warn":"error",executablePath:_};if(Y.default.platform()==="darwin"&&Y.default.arch()==="arm64")try{let j=J.execSync("which chromium").toString().replace(`
`,"");if(!j)throw new Error("Could not find chromium executable. Refer to https://github.com/keonik/prisma-erd-generator#issues for next steps.");x.executablePath=j,x.args=["--no-sandbox"]}catch(j){console.error(j),console.log(`
Prisma ERD Generator: Unable to find chromium path for you MacOS arm64 machine. Attempting to use the default at ${_}. To learn more visit https://github.com/keonik/prisma-erd-generator#-arm64-users-
`),_="/usr/bin/chromium-browser"}$.default.writeFileSync(h,JSON.stringify(x)),w=h}if(t.mmdcPath){if(!$.default.existsSync(n))throw new Error(`
Mermaid CLI provided path does not exist. 
${n}`)}else if(!$.default.existsSync(n)){let h=J.execSync("find ../.. -name mmdc").toString().split(`
`).filter(_=>_).pop();if(!h||!$.default.existsSync(h))throw new Error(`Expected mermaid CLI at 
${n}

or
${h}
 but this package was not found.`);n=D.resolve(h)}let g=`"${n}" -i "${f}" -o "${r}" -c "${P}" -p "${w}"`;if(a&&g&&console.log("mermaid command: ",g),J.execSync(g),!$.default.existsSync(r))throw new Error(`Issue generating ER Diagram. Expected ${r} to be created`)}catch(r){throw console.error(r),r}};var ar=O("fs"),sr=process.env.DISABLE_ERD==="true",le;try{le=JSON.parse((0,ar.readFileSync)("package.json","utf-8"))}catch(e){console.error(e),le={version:"1.0.0"}}(0,ir.generatorHandler)({onManifest:()=>({defaultOutput:sr?"N/A":"ERD.svg",prettyName:sr?"No ERD":"Entity-relationship-diagram",version:le?.version}),onGenerate:or});})();
